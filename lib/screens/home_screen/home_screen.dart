import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:platonic/providers/error_provider/home_error_provider.dart';
import 'package:platonic/screens/error_dialog/error_dialog/error_dialog.dart';
import 'package:platonic/screens/home_screen/widgets/widgets.dart';

/* Frame home
    Autogenerated by FlutLab FTF Generator
*/
class HomeScreen extends ConsumerWidget {
  const HomeScreen({super.key});

  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final homeErrorState = ref.watch(homeErrorProvider);

    WidgetsBinding.instance.addPostFrameCallback((_) {
      if (homeErrorState != null) {
        showDialog(
            context: context,
            builder: (context) => ErrorDialog(
                  error: homeErrorState.code,
                ));

        ref.read(homeErrorProvider.notifier).state = null;
      }
    });

    return const Scaffold(
      backgroundColor: Color.fromARGB(255, 27, 26, 29),
      body: SafeArea(
        child: Padding(
          padding: EdgeInsets.all(16.0),
          child:
              Column(crossAxisAlignment: CrossAxisAlignment.start, children: [
            SizedBox(
              height: 35.0,
              child: HomeTopbar(),
            ),
            SizedBox(
              height: 22.0,
            ),
            SizedBox(
              height: 163.0,
              child: StoriesContainer(),
            ),
            SizedBox(
              height: 32.0,
            ),
            SizedBox(
              height: 138.0,
              child: MeetContainer(),
            ),
            SizedBox(
              height: 32.0,
            ),
            MessagesContainer(),
          ]),
        ),
      ),
    );
  }
}
